# =============================================================================
# NiftyBot Railway Template - Environment Variables
# =============================================================================
# Copy this file to .env for local development
# For Railway deployment, set these in the Railway dashboard Variables section
# =============================================================================

# -----------------------------------------------------------------------------
# REQUIRED VARIABLES
# -----------------------------------------------------------------------------

# Password to access the /setup wizard (required for /setup routes)
# For Railway: Use ${{ secret() }} to generate a random secure password
# For local: Set any password you want
SETUP_PASSWORD=your-secure-password-here

# Directory where configuration and state are stored
# MUST point to /data on Railway (volume mount) for persistence
MOLTBOT_STATE_DIR=/data/.moltbot

# Directory where workspace files are stored
# MUST point to /data on Railway (volume mount) for persistence
MOLTBOT_WORKSPACE_DIR=/data/workspace

# -----------------------------------------------------------------------------
# AUTO-CONFIG (bypasses /setup when set)
# -----------------------------------------------------------------------------
# When OPENAI_API_KEY is set, the system auto-configures on boot.
# No need to visit /setup. Optionally add channel tokens below.

# OpenAI API key (enables auto-config on boot)
# Get from https://platform.openai.com/api-keys
OPENAI_API_KEY=

# Telegram bot token (optional - enables Telegram channel)
# Get from @BotFather on Telegram: /newbot
TELEGRAM_BOT_TOKEN=

# Slack bot token (optional - enables Slack channel)
# Format: xoxb-...
SLACK_BOT_TOKEN=

# Slack app-level token (optional - for Socket Mode)
# Format: xapp-...
SLACK_APP_TOKEN=

# -----------------------------------------------------------------------------
# RECOMMENDED VARIABLES
# -----------------------------------------------------------------------------

# Authentication token for the gateway and Control UI
# For Railway: Use ${{ secret() }} to generate a stable secret
# For local: Generate with: openssl rand -hex 32
# If not set, the wrapper will generate one (not ideal for production)
MOLTBOT_GATEWAY_TOKEN=

# -----------------------------------------------------------------------------
# OPTIONAL VARIABLES (Usually don't need to change)
# -----------------------------------------------------------------------------

# Port the wrapper server listens on
# Railway sets this automatically, usually to 8080
PORT=8080

# Internal port where the gateway listens (proxied by the wrapper)
# Default: 18789
INTERNAL_GATEWAY_PORT=18789

# Internal host for the gateway
# Default: 127.0.0.1
INTERNAL_GATEWAY_HOST=127.0.0.1

# Path to the moltbot configuration file
# Default: ${MOLTBOT_STATE_DIR}/moltbot.json
# Leave empty to use the default
MOLTBOT_CONFIG_PATH=

# Path to the moltbot CLI entry point
# Default: /moltbot/dist/entry.js
# Leave empty unless using a custom build
MOLTBOT_ENTRY=/moltbot/dist/entry.js

# Node.js executable to use
# Default: node
# Leave empty unless you need a specific node binary
MOLTBOT_NODE=node

# -----------------------------------------------------------------------------
# RAILWAY-SPECIFIC VARIABLES (Set automatically by Railway)
# -----------------------------------------------------------------------------

# Git commit SHA - automatically set by Railway during deployment
# Do not set manually
# RAILWAY_GIT_COMMIT_SHA=

# -----------------------------------------------------------------------------
# NOTES
# -----------------------------------------------------------------------------
# 1. For Railway deployment, you MUST have a Volume mounted at /data
# 2. Without the volume, configuration will be lost on every redeploy
# 3. To auto-configure: set OPENAI_API_KEY (and optionally TELEGRAM_BOT_TOKEN,
#    SLACK_BOT_TOKEN, SLACK_APP_TOKEN). No /setup needed.
# 4. To use the setup wizard instead: leave OPENAI_API_KEY unset, deploy, then
#    visit https://your-app.up.railway.app/setup to configure
# =============================================================================
